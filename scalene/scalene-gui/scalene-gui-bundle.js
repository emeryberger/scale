/*! For license information please see scalene-gui-bundle.js.LICENSE.txt */
(()=>{var e={526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],c=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),l=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},880:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),h=a.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},287:(e,t,n)=>{"use strict";const r=n(526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(K(r))return s;e[n+s]=r}return s}function S(e,t,n,r){return J(W(t,e.length-n),e,n,r)}function E(e,t,n,r){return J(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return J(G(t),e,n,r)}function A(e,t,n,r){return J(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<a;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const $=4096;function R(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Q[e[r]];return i}function I(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function B(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return t=+t,n>>>=0,o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return t=+t,n>>>=0,o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||T(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||T(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const L={};function D(e,t,n){L[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function j(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new L.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,i,o)}function q(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new L.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=z(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},251:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=u}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*g}},606:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,n){t.updateHttpClientConfig(e,n)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}};var t,r,i,o,s,a,c;!function(e){e.HEADER="header",e.QUERY="query"}(t||(t={})),(s=r||(r={})).HEADER="header",s.QUERY="query",function(e){e.HTTP="http",e.HTTPS="https"}(i||(i={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(o||(o={})),(c=a||(a={}))[c.HEADER=0]="HEADER",c[c.TRAILER=1]="TRAILER";const u="__smithy_context";var l,d;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(l||(l={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(d||(d={}));class f{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new f({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return f.clone(this)}}class h{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const p={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},g={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var m=n(606);const y="X-Amzn-Trace-Id",w={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},b=e=>e[u]||(e[u]={}),v=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},S={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},E={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function A(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>n=>async r=>{const{response:i}=await n(r);try{return{response:i,output:await t(i,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:i}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t,void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText)}throw e}})(e,n),E),r.add(((e,t)=>(n,r)=>async i=>{const o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const s=await t(i.input,{...e,endpoint:o});return n({...i,request:s})})(e,t),_)}}}const x=e=>e=>{throw e},k=(e,t)=>{},$={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},R=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},P={},M=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);P[n]=e,M[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),r=e+26;P[n]=r,M[r]=n}for(let e=0;e<10;e++){P[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;P[t]=n,M[n]=t}P["+"]=62,M[62]="+",P["/"]=63,M[63]="/";const I=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,i=0;for(let r=t,o=t+3;r<=o;r++)if("="!==e[r]){if(!(e[r]in P))throw new TypeError(`Invalid character ${e[r]} in base64 string.`);n|=P[e[r]]<<6*(o-r),i+=6}else n>>=6;const o=t/4*3;n>>=i%8;const s=Math.floor(i/8);for(let e=0;e<s;e++){const t=8*(s-e-1);r.setUint8(o+e,(n&255<<t)>>t)}}return new Uint8Array(n)},O=e=>(new TextEncoder).encode(e);function T(e){let t;t="string"==typeof e?O(e):e;const n="object"==typeof t&&"number"==typeof t.length,r="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let e=0;e<t.length;e+=3){let n=0,r=0;for(let i=e,o=Math.min(e+3,t.length);i<o;i++)n|=t[i]<<8*(o-i-1),r+=8;const o=Math.ceil(r/6);n<<=6*o-r;for(let e=1;e<=o;e++){const t=6*(o-e);i+=M[(n&63<<t)>>t]}i+="==".slice(0,4-o)}return i}const C=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};class B extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?B.mutate(I(e)):B.mutate(O(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,B.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?T(e):C(e)}(this,e)}}const U=e=>encodeURIComponent(e).replace(/[!'()*]/g,F),F=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function N(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}const L={supported:void 0};class D{static create(e){return"function"==typeof e?.handle?e:new D(e)}constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===L.supported&&(L.supported=Boolean("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,r=!0===this.config.keepAlive,i=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let o=e.path;const s=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=U(n),Array.isArray(r))for(let e=0,i=r.length;e<i;e++)t.push(`${n}=${U(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${U(r)}`),t.push(e)}}return t.join("&")}(e.query||{});s&&(o+=`?${s}`),e.fragment&&(o+=`#${e.fragment}`);let a="";null==e.username&&null==e.password||(a=`${e.username??""}:${e.password??""}@`);const{port:c,method:u}=e,l=`${e.protocol}//${a}${e.hostname}${c?`:${c}`:""}${o}`,d="GET"===u||"HEAD"===u?void 0:e.body,f={body:d,headers:new Headers(e.headers),method:u,credentials:i};this.config?.cache&&(f.cache=this.config.cache),d&&(f.duplex="half"),"undefined"!=typeof AbortController&&(f.signal=t),L.supported&&(f.keepalive=r),"function"==typeof this.config.requestInit&&Object.assign(f,this.config.requestInit(e));let p=()=>{};const g=new Request(l,f),m=[fetch(g).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new h({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new h({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),N(n)];return t&&m.push(new Promise(((e,n)=>{const r=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)};if("function"==typeof t.addEventListener){const e=t;e.addEventListener("abort",r,{once:!0}),p=()=>e.removeEventListener("abort",r)}else t.onabort=r}))),Promise.race(m).finally(p)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){return this.config??{}}}const z=async e=>"function"==typeof Blob&&e instanceof Blob?new Uint8Array(await e.arrayBuffer()):async function(e){const t=[],n=e.getReader();let r=!1,i=0;for(;!r;){const{done:e,value:o}=await n.read();o&&(t.push(o),i+=o.length),r=e}const o=new Uint8Array(i);let s=0;for(const e of t)o.set(e,s),s+=e.length;return o}(e),j={},q={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),j[e]=t,q[t]=e}function H(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in q))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=q[r]}return t}function V(e){let t="";for(let n=0;n<e.byteLength;n++)t+=j[e[n]];return t}"function"==typeof ReadableStream&&ReadableStream;const W=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return B.mutate(e);if(!e)return B.mutate(new Uint8Array);const n=t.streamCollector(e);return B.mutate(await n)};class G{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:r}=await this.context.endpoint();this.path=r;for(const e of this.resolvePathStack)e(this.path);return new f({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push((t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e})),this}p(e,t,n,r){return this.resolvePathStack.push((i=>{this.path=Y(i,this.input,e,t,n,r)})),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}function J(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const Y=(e,t,n,r,i,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(i,o?t.split("/").map((e=>J(e))).join("/"):J(t))}return e};class K{constructor(e){this.authSchemes=new Map;for(const[t,n]of Object.entries(e))void 0!==n&&this.authSchemes.set(t,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}const Q=e=>Z(e)&&e.expiration.getTime()-Date.now()<3e5;const Z=e=>void 0!==e.expiration,X=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ee=e=>X.test(e)||e.startsWith("[")&&e.endsWith("]"),te=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ne=(e,t=!1)=>{if(!t)return te.test(e);const n=e.split(".");for(const e of n)if(!ne(e))return!1;return!0},re={},ie="endpoints";function oe(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${oe(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(oe).join(", ")})`:JSON.stringify(e,null,2)}class se extends Error{constructor(e){super(e),this.name="EndpointError"}}const ae=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new se(`Path: '${e}' does not end with ']'`);const i=r.slice(t+1,-1);if(Number.isNaN(parseInt(i)))throw new se(`Invalid array index: '${i}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(i)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new se(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),ce={[i.HTTP]:80,[i.HTTPS]:443},ue={booleanEquals:(e,t)=>e===t,getAttr:ae,isSet:e=>null!=e,isValidHostLabel:ne,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:i="",query:o={}}=e,s=new URL(`${r}//${t}${n?`:${n}`:""}${i}`);return s.search=Object.entries(o).map((([e,t])=>`${e}=${t}`)).join("&"),s}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:o,pathname:s,protocol:a,search:c}=t;if(c)return null;const u=a.slice(0,-1);if(!Object.values(i).includes(u))return null;const l=ee(o);return{scheme:u,authority:`${r}${n.includes(`${r}:${ce[u]}`)||"string"==typeof e&&e.includes(`${r}:${ce[u]}`)?`:${ce[u]}`:""}`,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},le=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const t=e.indexOf("{",i);if(-1===t){n.push(e.slice(i));break}n.push(e.slice(i,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),i=o+2);const s=e.substring(t+1,o);if(s.includes("#")){const[e,t]=s.split("#");n.push(ae(r[e],t))}else n.push(r[s]);i=o+1}return n.join("")},de=(e,t,n)=>{if("string"==typeof e)return le(e,n);if(e.fn)return fe(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new se(`'${t}': ${String(e)} is not a string, function or reference.`)},fe=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:de(e,"arg",n))),i=e.split(".");return i[0]in re&&null!=i[1]?re[i[0]][i[1]](...r):ue[e](...r)},he=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new se(`'${e}' is already defined in Reference Record.`);const r=fe(t,n);return n.logger?.debug?.(`${ie} evaluateCondition: ${oe(t)} = ${oe(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},pe=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:i}=he(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};i&&(n[i.name]=i.value,t.logger?.debug?.(`${ie} assign: ${i.name} := ${oe(i.value)}`))}return{result:!0,referenceRecord:n}},ge=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=de(e,"Header value entry",t);if("string"!=typeof r)throw new se(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),me=(e,t)=>{if(Array.isArray(e))return e.map((e=>me(e,t)));switch(typeof e){case"string":return le(e,t);case"object":if(null===e)throw new se(`Unexpected endpoint property: ${e}`);return ye(e,t);case"boolean":return e;default:throw new se("Unexpected endpoint property type: "+typeof e)}},ye=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:me(r,t)})),{}),we=(e,t)=>{const n=de(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new se("Endpoint URL must be a string, got "+typeof n)},be=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:i,referenceRecord:o}=pe(n,t);if(!i)return;const s={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:u}=r;return t.logger?.debug?.(`${ie} Resolving endpoint from template: ${oe(r)}`),{...null!=u&&{headers:ge(u,s)},...null!=c&&{properties:ye(c,s)},url:we(a,s)}},ve=(e,t)=>{const{conditions:n,error:r}=e,{result:i,referenceRecord:o}=pe(n,t);if(i)throw new se(de(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},Se=(e,t)=>{const{conditions:n,rules:r}=e,{result:i,referenceRecord:o}=pe(n,t);if(i)return Ee(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},Ee=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=be(n,t);if(e)return e}else if("error"===n.type)ve(n,t);else{if("tree"!==n.type)throw new se(`Unknown endpoint rule: ${n}`);{const e=Se(n,t);if(e)return e}}throw new se("Rules evaluation failed")},_e=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!_e(t))return!1;return!0}return!(!ne(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ee(e))};let Ae=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');const xe={isVirtualHostableS3Bucket:_e,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,i,o,s,...a]=t;return"arn"!==n||""===r||""===i||""===a.join(":")?null:{partition:r,service:i,region:o,accountId:s,resourceId:a.map((e=>e.split("/"))).flat()}},partition:e=>{const{partitions:t}=Ae;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,i]of Object.entries(t))if(n===e)return{...r,...i}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};function ke(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}re.aws=xe;const $e=/\d{12}\.ddb/,Re="user-agent",Pe="x-amz-user-agent",Me=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ie=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Oe=e=>{const t=e[0].split("/").map((e=>e.replace(Me,"-"))).join("/"),n=e[1]?.replace(Ie,"-"),r=t.indexOf("/"),i=t.substring(0,r);let o=t.substring(r+1);return"api"===i&&(o=o.toLowerCase()),[i,o,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},Te={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var Ce;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(Ce||(Ce={}));const Be=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),Ue=e=>Be(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Fe="content-length",Ne={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Le=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,De=/(\d+\.){3}\d+/,ze=/\.\./,je=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:i}=e;return`${t}//${n}${r?":"+r:""}${i}`}}return e}:r},qe=async e=>{},He=e=>{if("string"==typeof e)return He(new URL(e));const{hostname:t,pathname:n,port:r,protocol:i,search:o}=e;let s;return o&&(s=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:i,path:n,query:s}},Ve=e=>"object"==typeof e?"url"in e?He(e.url):e:He(e),We=async(e,t,n)=>{const r={},i=t?.getEndpointParameterInstructions?.()||{};for(const[t,o]of Object.entries(i))switch(o.type){case"staticContextParams":r[t]=o.value;break;case"contextParams":r[t]=e[o.name];break;case"clientContextParams":case"builtInParams":r[t]=await je(o.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(i).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,,,i]=e.split(":"),o="arn"===t&&e.split(":").length>=6,s=Boolean(o&&n&&r&&i);if(o&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!Le.test(n)||De.test(n)||ze.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},Ge={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:_.name},Je=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,r)=>async i=>{e.endpoint&&function(e){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features.ENDPOINT_OVERRIDE="N"}(r);const o=await(async(e,t,n,r)=>{if(!n.endpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await qe(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(Ve(e)))}const i=await We(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(i,r)})(i.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const s=r.authSchemes?.[0];if(s){r.signing_region=s.signingRegion,r.signing_service=s.signingName;const e=b(r),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return n({...i})})({config:e,instructions:t}),Ge)}});var Ye;!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(Ye||(Ye={}));const Ke=Ye.STANDARD,Qe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Ze=["TimeoutError","RequestTimeout","RequestTimeoutException"],Xe=[500,502,503,504],et=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],tt=e=>429===e.$metadata?.httpStatusCode||Qe.includes(e.name)||1==e.$retryable?.throttling,nt=e=>(e=>e.$metadata?.clockSkewCorrected)(e)||Ze.includes(e.name)||et.includes(e?.code||"")||Xe.includes(e.$metadata?.httpStatusCode||0);class rt{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),tt(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const it=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>n});class ot{constructor(e){this.maxAttempts=e,this.mode=Ye.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return it({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:100);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,it({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class st{constructor(e,t){this.maxAttemptsProvider=e,this.mode=Ye.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new rt,this.standardRetryStrategy=new ot(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const at={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ct;const ut=new Uint8Array(16);function lt(){if(!ct&&(ct="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ct))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ct(ut)}const dt=[];for(let e=0;e<256;++e)dt.push((e+256).toString(16).slice(1));const ft=function(e,t,n){if(at.randomUUID&&!t&&!e)return at.randomUUID();const r=(e=e||{}).random||(e.rng||lt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return dt[e[t+0]]+dt[e[t+1]]+dt[e[t+2]]+dt[e[t+3]]+"-"+dt[e[t+4]]+dt[e[t+5]]+"-"+dt[e[t+6]]+dt[e[t+7]]+"-"+dt[e[t+8]]+dt[e[t+9]]+"-"+dt[e[t+10]]+dt[e[t+11]]+dt[e[t+12]]+dt[e[t+13]]+dt[e[t+14]]+dt[e[t+15]]}(r)},ht=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const e of t)n.push(e);return n},pt=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,gt=()=>{let e=[],t=[],n=!1;const r=new Set,i=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n.identifyOnResolve?.(a.identifyOnResolve()),n),o=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t},s=(n=!1)=>{const r=[],i=[],s={};e.forEach((e=>{const t={...e,before:[],after:[]};for(const e of ht(t.name,t.aliases))s[e]=t;r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};for(const e of ht(t.name,t.aliases))s[e]=t;i.push(t)})),i.forEach((e=>{if(e.toMiddleware){const t=s[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${pt(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const a=(c=r,c.sort(((e,t)=>mt[t.step]-mt[e.step]||yt[t.priority||"normal"]-yt[e.priority||"normal"]))).map(o).reduce(((e,t)=>(e.push(...t),e)),[]);var c;return a},a={add:(t,n={})=>{const{name:i,override:o,aliases:s}=n,a={step:"initialize",priority:"normal",middleware:t,...n},c=ht(i,s);if(c.length>0){if(c.some((e=>r.has(e)))){if(!o)throw new Error(`Duplicate middleware name '${pt(i,s)}'`);for(const t of c){const n=e.findIndex((e=>e.name===t||e.aliases?.some((e=>e===t))));if(-1===n)continue;const r=e[n];if(r.step!==a.step||a.priority!==r.priority)throw new Error(`"${pt(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${pt(i,s)}" middleware with ${a.priority} priority in ${a.step} step.`);e.splice(n,1)}}for(const e of c)r.add(e)}e.push(a)},addRelativeTo:(e,n)=>{const{name:i,override:o,aliases:s}=n,a={middleware:e,...n},c=ht(i,s);if(c.length>0){if(c.some((e=>r.has(e)))){if(!o)throw new Error(`Duplicate middleware name '${pt(i,s)}'`);for(const e of c){const n=t.findIndex((t=>t.name===e||t.aliases?.some((t=>t===e))));if(-1===n)continue;const r=t[n];if(r.toMiddleware!==a.toMiddleware||r.relation!==a.relation)throw new Error(`"${pt(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${pt(i,s)}" middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(n,1)}}for(const e of c)r.add(e)}t.push(a)},clone:()=>i(gt()),use:e=>{e.applyToStack(a)},remove:n=>"string"==typeof n?(n=>{let i=!1;const o=e=>{const t=ht(e.name,e.aliases);if(t.includes(n)){i=!0;for(const e of t)r.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),i})(n):(n=>{let i=!1;const o=e=>{if(e.middleware===n){i=!0;for(const t of ht(e.name,e.aliases))r.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),i})(n),removeByTag:n=>{let i=!1;const o=e=>{const{tags:t,name:o,aliases:s}=e;if(t&&t.includes(n)){const e=ht(o,s);for(const t of e)r.delete(t);return i=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),i},concat:e=>{const t=i(gt());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:i,identify:()=>s(!0).map((e=>{const t=e.step??e.relation+" "+e.toMiddleware;return pt(e.name,e.aliases)+" - "+t})),identifyOnResolve:e=>("boolean"==typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of s().map((e=>e.middleware)).reverse())e=n(e,t);return n&&console.log(a.identify()),e}};return a},mt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},yt={high:3,normal:2,low:1};class wt{constructor(e){this.config=e,this.middlewareStack=gt()}send(e,t,n){const r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n;let o;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?o=t.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((e=>e.output));o(e).then((e=>i(null,e.output)),(e=>i(e))).catch((()=>{}))}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}class bt{constructor(){this.middlewareStack=gt()}static classBuilder(){return new vt}resolveMiddlewareWithContext(e,t,n,{middlewareFn:r,clientName:i,commandName:o,inputFilterSensitiveLog:s,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(const i of r.bind(this)(d,e,t,n))this.middlewareStack.use(i);const f=e.concat(this.middlewareStack),{logger:h}=t,p={logger:h,clientName:i,commandName:o,inputFilterSensitiveLog:s,outputFilterSensitiveLog:a,[u]:{commandInstance:this,...c},...l},{requestHandler:g}=t;return f.resolve((e=>g.handle(e.request,n||{})),p)}}class vt{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,n={}){return this._smithyContext={service:e,operation:t,...n},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends bt{static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this)}resolveMiddleware(n,r,i){return this.resolveMiddlewareWithContext(n,r,i,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const St="***SensitiveInformation***",Et=(Math.ceil(2**127*(2-2**-23)),e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}}),_t=e=>At(e,32),At=(e,t)=>{const n=Et(e);if(void 0!==n&&xt(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},xt=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},kt=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Rt.warn($t(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},$t=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),Rt={warn:console.warn};class Pt extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Pt.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const Mt=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},It=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Ot=e=>{const t=[];for(const n in o){const r=o[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},Tt=e=>{const t={};return e.checksumAlgorithms().forEach((e=>{t[e.algorithmId()]=e.checksumConstructor()})),t},Ct=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},Bt=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Ut=e=>({...Ot(e),...Ct(e)}),Ft=e=>null!=e,Nt=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};Nt.prototype=Object.create(String.prototype,{constructor:{value:Nt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Nt,String);class Lt{trace(){}debug(){}info(){}warn(){}error(){}}function Dt(e,t,n){let r,i,o;if(void 0===t&&void 0===n)r={},o=e;else{if(r=e,"function"==typeof t)return i=t,o=n,jt(r,i,o);o=t}for(const e of Object.keys(o))Array.isArray(o[e])?qt(r,null,o,e):r[e]=o[e];return r}const zt=(e,t)=>{const n={};for(const r in t)qt(n,e,t,r);return n},jt=(e,t,n)=>Dt(e,Object.entries(n).reduce(((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e)),{})),qt=(e,t,n,r)=>{if(null!==t){let i=n[r];"function"==typeof i&&(i=[,i]);const[o=Ht,s=Vt,a=r]=i;return void(("function"==typeof o&&o(t[a])||"function"!=typeof o&&o)&&(e[r]=s(t[a])))}let[i,o]=n[r];if("function"==typeof o){let t;const n=void 0===i&&null!=(t=o()),s="function"==typeof i&&!!i(void 0)||"function"!=typeof i&&!!i;n?e[r]=t:s&&(e[r]=o())}else{const t=void 0===i&&null!=o,n="function"==typeof i&&!!i(o)||"function"!=typeof i&&!!i;(t||n)&&(e[r]=o)}},Ht=e=>null!=e,Vt=e=>e,Wt=e=>e?.body instanceof ReadableStream,Gt=e=>{const t={error:e,errorType:Jt(e)},n=Kt(e.$response);return n&&(t.retryAfterHint=n),t},Jt=e=>tt(e)?"THROTTLING":nt(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!nt(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",Yt={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Kt=e=>{if(!h.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)},Qt=e=>"string"==typeof e?O(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Zt="X-Amz-Date",Xt="X-Amz-Signature",en="X-Amz-Security-Token",tn="authorization",nn=Zt.toLowerCase(),rn=[tn,nn,"date"],on=Xt.toLowerCase(),sn="x-amz-content-sha256",an=en.toLowerCase(),cn={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},un=/^proxy-/,ln=/^sec-/,dn="AWS4-HMAC-SHA256",fn="AWS4-HMAC-SHA256-PAYLOAD",hn="aws4_request",pn={},gn=[],mn=(e,t,n)=>`${e}/${t}/${n}/${hn}`,yn=(e,t,n)=>{const r=new e(t);return r.update(Qt(n)),r.digest()},wn=({headers:e},t,n)=>{const r={};for(const i of Object.keys(e).sort()){if(null==e[i])continue;const o=i.toLowerCase();(o in cn||t?.has(o)||un.test(o)||ln.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[i].trim().replace(/\s+/g," "))}return r},bn=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===sn)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(r=t,"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(r))){const e=new n;return e.update(Qt(t)),V(await e.digest())}var r;return"UNSIGNED-PAYLOAD"};class vn{format(e){const t=[];for(const n of Object.keys(e)){const r=O(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const s=O(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(s,3),c;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(_n.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!En.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(H(e.value.replace(/\-/g,"")),1),l}}}var Sn;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Sn||(Sn={}));const En=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class _n{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&An(t),new _n(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&An(e),parseInt(V(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function An(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}const xn=e=>{e=f.clone(e);for(const t of Object.keys(e.headers))rn.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class kn{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new vn,this.service=r,this.sha256=i,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=v(n),this.credentialProvider=v(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:s,hoistableHeaders:a,signingRegion:c,signingService:u}=t,l=await this.credentialProvider();this.validateResolvedCredentials(l);const d=c??await this.regionProvider(),{longDate:h,shortDate:p}=$n(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const g=mn(p,d,u??this.service),m=((e,t={})=>{const{headers:n,query:r={}}=f.clone(e);for(const e of Object.keys(n)){const i=e.toLowerCase();("x-amz-"===i.slice(0,6)&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(xn(e),{unhoistableHeaders:o,hoistableHeaders:a});l.sessionToken&&(m.query[en]=l.sessionToken),m.query["X-Amz-Algorithm"]=dn,m.query["X-Amz-Credential"]=`${l.accessKeyId}/${g}`,m.query[Zt]=h,m.query["X-Amz-Expires"]=r.toString(10);const y=wn(m,i,s);return m.query["X-Amz-SignedHeaders"]=Rn(y),m.query[Xt]=await this.getSignature(h,g,this.getSigningKey(l,d,p,u),this.createCanonicalRequest(m,y,await bn(e,this.sha256))),m}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:i,signingService:o}){const s=i??await this.regionProvider(),{shortDate:a,longDate:c}=$n(n),u=mn(a,s,o??this.service),l=await bn({headers:{},body:t},this.sha256),d=new this.sha256;d.update(e);const f=V(await d.digest()),h=[fn,c,u,r,f,l].join("\n");return this.signString(h,{signingDate:n,signingRegion:s,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:s}=$n(t),a=new this.sha256(await this.getSigningKey(i,o,s,r));return a.update(Qt(e)),V(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:i,signingService:o}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const a=i??await this.regionProvider(),c=xn(e),{longDate:u,shortDate:l}=$n(t),d=mn(l,a,o??this.service);c.headers[nn]=u,s.sessionToken&&(c.headers[an]=s.sessionToken);const f=await bn(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(sn,c.headers)&&this.applyChecksum&&(c.headers[sn]=f);const h=wn(c,r,n),p=await this.getSignature(u,d,this.getSigningKey(s,a,l,o),this.createCanonicalRequest(c,h,f));return c.headers[tn]=`${dn} Credential=${s.accessKeyId}/${d}, SignedHeaders=${Rn(h)}, Signature=${p}`,c}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e)){if(r.toLowerCase()===on)continue;const i=U(r);t.push(i);const o=e[r];"string"==typeof o?n[i]=`${i}=${U(o)}`:Array.isArray(o)&&(n[i]=o.slice(0).reduce(((e,t)=>e.concat([`${i}=${U(t)}`])),[]).sort().join("&"))}return t.sort().map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(Qt(n));const i=await r.digest();return`${dn}\n${e}\n${t}\n${V(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return U(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const i=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(Qt(i)),V(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,i)=>{const o=`${n}:${r}:${i}:${V(await yn(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(o in pn)return pn[o];for(gn.push(o);gn.length>50;)delete pn[gn.shift()];let s=`AWS4${t.secretAccessKey}`;for(const t of[n,r,i,hn])s=await yn(e,s,t);return pn[o]=s})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const $n=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},Rn=e=>Object.keys(e).sort().join(";"),Pn=e=>{let t,n=!1;e.credentials&&(n=!0,t=((e,t,n)=>{if(void 0===e)return;const r="function"!=typeof e?async()=>Promise.resolve(e):e;let i,o,s,a=!1;const c=async e=>{o||(o=r(e));try{i=await o,s=!0,a=!1}finally{o=void 0}return i};return void 0===t?async e=>(s&&!e?.forceRefresh||(i=await c(e)),i):async e=>(s&&!e?.forceRefresh||(i=await c(e)),a?i:n(i)?t(i)?(await c(e),i):i:(a=!0,i))})(e.credentials,Q,Z)),t||(t=e.credentialDefaultProvider?R(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e;let s;return s=e.signer?R(e.signer):e.regionInfoProvider?()=>R(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([n,i])=>{const{signingRegion:s,signingService:a}=n;e.signingRegion=e.signingRegion||s||i,e.signingName=e.signingName||a||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r};return new(e.signerConstructor||kn)(c)})):async n=>{const i=(n=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await R(e.region)(),properties:{}},n)).signingRegion,s=n.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||s||e.serviceId;const a={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r};return new(e.signerConstructor||kn)(a)},{...e,systemClockOffset:i,signingEscapePath:r,credentials:n?async()=>t().then((e=>{return(t=e).$source||(t.$source={}),t.$source.CREDENTIALS_CODE="e",t;var t})):t,signer:s}},Mn=async(e,t,n)=>({operation:b(t).operation,region:await v(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),In=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t},On={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Tn="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function Cn(e){return e instanceof Uint8Array?e:"string"==typeof e?Tn(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function Bn(e){return"string"==typeof e?0===e.length:0===e.byteLength}var Un={name:"SHA-256"},Fn={name:"HMAC",hash:Un},Nn=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const Ln={};function Dn(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:Ln}var zn=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!Bn(e)){var t=Cn(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return Dn().crypto.subtle.sign(Fn,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):Bn(this.toHash)?Promise.resolve(Nn):Promise.resolve().then((function(){return Dn().crypto.subtle.digest(Un,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){Dn().crypto.subtle.importKey("raw",Cn(e.secret),Fn,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}();function jn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function qn(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Hn=64,Vn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wn=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Gn=Math.pow(2,53)-1,Jn=function(){function e(){this.state=Int32Array.from(Wn),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>Gn)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===Hn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%Hn>=56){for(var r=this.bufferLength;r<Hn;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(32);for(r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=0;l<Hn;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(f+this.temp[l-7]|0)+(h+this.temp[l-16]|0)}var p=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&c)|0)+(u+(Vn[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;u=c,c=a,a=s,s=o+p|0,o=i,i=r,r=n,n=p+g|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=s,t[5]+=a,t[6]+=c,t[7]+=u},e}(),Yn=function(){function e(e){this.secret=e,this.hash=new Jn,this.reset()}return e.prototype.update=function(e){if(!Bn(e)&&!this.error)try{this.hash.update(Cn(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return jn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new Jn,this.secret){this.outer=new Jn;var e=function(e){var t=Cn(e);if(t.byteLength>Hn){var n=new Jn;n.update(t),t=n.digest()}var r=new Uint8Array(Hn);return r.set(t),r}(this.secret),t=new Uint8Array(Hn);t.set(e);for(var n=0;n<Hn;n++)e[n]^=54,t[n]^=92;for(this.hash.update(e),this.outer.update(t),n=0;n<e.byteLength;n++)e[n]=0}},e}(),Kn=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var Qn=function(){function e(e){!function(e){return!(!function(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}(e)||"object"!=typeof e.crypto.subtle)&&((t=e.crypto.subtle)&&Kn.every((function(e){return"function"==typeof t[e]})));var t}(Dn())?this.hash=new Yn(e):this.hash=new zn(e)}return e.prototype.update=function(e,t){this.hash.update(Cn(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Zn=n(880),Xn=n.n(Zn);const er=({serviceId:e,clientVersion:t})=>async n=>{const r="undefined"!=typeof window&&window?.navigator?.userAgent?Xn().parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",t],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];e&&i.push([`api/${e}`,t]);const o=await(n?.userAgentAppId?.());return o&&i.push([`app/${o}`]),i};!function(){function e(){this.crc32=new nr}e.prototype.update=function(e){Bn(e)||this.crc32.update(Cn(e))},e.prototype.digest=function(){return jn(this,void 0,void 0,(function(){return qn(this,(function(e){return[2,(t=this.crc32.digest(),new Uint8Array([(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))];var t}))}))},e.prototype.reset=function(){this.crc32=new nr}}();var tr,nr=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=r.next();!i.done;i=r.next()){var o=i.value;this.checksum=this.checksum>>>8^rr[255&(this.checksum^o)]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),rr=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);class ir{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&or(t),new ir(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&or(e),parseInt(V(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function or(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class sr{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const r=this.fromUtf8(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(s,3),c;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(ir.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!mr.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(H(e.value.replace(/\-/g,"")),1),l}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:ar,value:!0};break;case 1:t[i]={type:ar,value:!1};break;case 2:t[i]={type:cr,value:e.getInt8(n++)};break;case 3:t[i]={type:ur,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:lr,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:dr,value:new ir(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[i]={type:fr,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[i]={type:hr,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[i]={type:pr,value:new Date(new ir(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:gr,value:`${V(s.subarray(0,4))}-${V(s.subarray(4,6))}-${V(s.subarray(6,8))}-${V(s.subarray(8,10))}-${V(s.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(tr||(tr={}));const ar="boolean",cr="byte",ur="short",lr="integer",dr="long",fr="binary",hr="string",pr="timestamp",gr="uuid",mr=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class yr{constructor(e,t){this.headerMarshaller=new sr(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode({headers:e,body:t}){const n=this.headerMarshaller.format(e),r=n.byteLength+t.byteLength+16,i=new Uint8Array(r),o=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new nr;return o.setUint32(0,r,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(t,n.byteLength+12),o.setUint32(r-4,s.update(i.subarray(8,r-4)).digest(),!1),i}decode(e){const{headers:t,body:n}=function({byteLength:e,byteOffset:t,buffer:n}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,t,e),i=r.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");const o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(e-4,!1),c=(new nr).update(new Uint8Array(n,t,8));if(s!==c.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,t+8,e-12)),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,t+8+4,o),body:new Uint8Array(n,t+8+4+o,i-o-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class wr{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.decoder.decode(e);yield t}}}class br{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=this.options.encoder.encode(e);yield t}this.options.includeEndFrame&&(yield new Uint8Array(0))}}class vr{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=await this.options.deserializer(e);void 0!==t&&(yield t)}}}class Sr{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.serializer(e);yield t}}}function Er(e,t){return async function(n){const{value:r}=n.headers[":message-type"];if("error"===r){const e=new Error(n.headers[":error-message"].value||"UnknownError");throw e.name=n.headers[":error-code"].value,e}if("exception"===r){const r=n.headers[":exception-type"].value,i={[r]:n},o=await e(i);if(o.$unknown){const e=new Error(t(n.body));throw e.name=r,e}throw o[r]}if("event"===r){const t={[n.headers[":event-type"].value]:n},r=await e(t);if(r.$unknown)return;return r}throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}class _r{constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new yr(e,t),this.utfEncoder=e}deserialize(e,t){const n=function(e){let t=0,n=0,r=null,i=null;const o=e=>{if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,r=new Uint8Array(e),new DataView(r.buffer).setUint32(0,e,!1)};return{[Symbol.asyncIterator]:async function*(){const s=e[Symbol.asyncIterator]();for(;;){const{value:e,done:a}=await s.next();if(a){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield r)}const c=e.length;let u=0;for(;u<c;){if(!r){const t=c-u;i||(i=new Uint8Array(4));const r=Math.min(4-n,t);if(i.set(e.slice(u,u+r),n),n+=r,u+=r,n<4)break;o(new DataView(i.buffer).getUint32(0,!1)),i=null}const s=Math.min(t-n,c-u);r.set(e.slice(u,u+s),n),n+=s,u+=s,t&&t===n&&(yield r,r=null,t=0,n=0)}}}}}(e);return new vr({messageStream:new wr({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Er(t,this.utfEncoder)})}serialize(e,t){return new br({messageStream:new Sr({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}class Ar{constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new _r({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){const n=xr(e)?(r=e,{[Symbol.asyncIterator]:async function*(){const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}}):e;var r;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})})(n):n}}const xr=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,kr=e=>new Ar(e),$r="function"==typeof TextEncoder?new TextEncoder:null,Rr=e=>{if("string"==typeof e){if($r)return $r.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},Pr=e=>new Date(Date.now()+e),Mr=e=>h.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,Ir=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(Pr(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},Or=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};class Tr{async sign(e,t,n){if(!f.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await(async e=>{const t=Or("context",e.context),n=Or("config",e.config),r=t.endpointV2?.properties?.authSchemes?.[0],i=Or("signer",n.signer),o=await i(r),s=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:n,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}})(n),{config:i,signer:o}=r;let{signingRegion:s,signingName:a}=r;const c=n.context;if(c?.authSchemes?.length){const[e,t]=c.authSchemes;"sigv4a"===e?.name&&"sigv4"===t?.name&&(s=t?.signingRegion??s,a=t?.signingName??a)}return await o.sign(e,{signingDate:Pr(i.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(e){return t=>{const n=t.ServerTime??Mr(t.$response);if(n){const r=Or("config",e.config),i=r.systemClockOffset;r.systemClockOffset=Ir(n,r.systemClockOffset),r.systemClockOffset!==i&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const n=Mr(e);if(n){const e=Or("config",t.config);e.systemClockOffset=Ir(n,e.systemClockOffset)}}}const Cr="required",Br="fn",Ur="argv",Fr="ref",Nr=!0,Lr="isSet",Dr="booleanEquals",zr="error",jr="endpoint",qr="tree",Hr="PartitionResult",Vr={[Cr]:!1,type:"String"},Wr={[Cr]:!0,default:!1,type:"Boolean"},Gr={[Fr]:"Endpoint"},Jr={[Br]:Dr,[Ur]:[{[Fr]:"UseFIPS"},!0]},Yr={[Br]:Dr,[Ur]:[{[Fr]:"UseDualStack"},!0]},Kr={},Qr={[Br]:"getAttr",[Ur]:[{[Fr]:Hr},"supportsFIPS"]},Zr={[Br]:Dr,[Ur]:[!0,{[Br]:"getAttr",[Ur]:[{[Fr]:Hr},"supportsDualStack"]}]},Xr=[Jr],ei=[Yr],ti=[{[Fr]:"Region"}],ni={version:"1.0",parameters:{Region:Vr,UseDualStack:Wr,UseFIPS:Wr,Endpoint:Vr},rules:[{conditions:[{[Br]:Lr,[Ur]:[Gr]}],rules:[{conditions:Xr,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:zr},{rules:[{conditions:ei,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:zr},{endpoint:{url:Gr,properties:Kr,headers:Kr},type:jr}],type:qr}],type:qr},{rules:[{conditions:[{[Br]:Lr,[Ur]:ti}],rules:[{conditions:[{[Br]:"aws.partition",[Ur]:ti,assign:Hr}],rules:[{conditions:[Jr,Yr],rules:[{conditions:[{[Br]:Dr,[Ur]:[Nr,Qr]},Zr],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kr,headers:Kr},type:jr}],type:qr}],type:qr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:zr}],type:qr},{conditions:Xr,rules:[{conditions:[{[Br]:Dr,[Ur]:[Qr,Nr]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Kr,headers:Kr},type:jr}],type:qr}],type:qr},{error:"FIPS is enabled but this partition does not support FIPS",type:zr}],type:qr},{conditions:ei,rules:[{conditions:[Zr],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kr,headers:Kr},type:jr}],type:qr}],type:qr},{error:"DualStack is enabled but this partition does not support DualStack",type:zr}],type:qr},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:Kr,headers:Kr},type:jr}],type:qr}],type:qr}],type:qr},{error:"Invalid Configuration: Missing Region",type:zr}],type:qr}]},ri=new class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}get(e,t){const n=this.hash(e);if(!1===n)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:n,done:r}=e.next();if(this.data.delete(n),r||++t>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(e){let t="";const{parameters:n}=this;if(0===n.length)return!1;for(const r of n){const n=String(e[r]??"");if(n.includes("|;"))return!1;t+=n+"|;"}return t}}({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ii=(e,t={})=>ri.get(e,(()=>((e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:i,rules:o}=e;t.logger?.debug?.(`${ie} Initial EndpointParams: ${oe(n)}`);const s=Object.entries(i).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(s.length>0)for(const[e,t]of s)n[e]=n[e]??t;const a=Object.entries(i).filter((([,e])=>e.required)).map((([e])=>e));for(const e of a)if(null==n[e])throw new se(`Missing required parameter: '${e}'`);const c=Ee(o,{endpointParams:n,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${ie} Resolved endpoint: ${oe(c)}`),c})(ni,{endpointParams:e,logger:t.logger})));re.aws=xe,Error;const oi=["in-region","cross-region","mobile","standard","legacy"],si=e=>{const t=(({defaultsMode:e}={})=>(()=>{let t,n,r,i=!1;const o=async()=>{n||(n=(async()=>{const t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve((()=>{const e="undefined"!=typeof window&&window?.navigator?.userAgent?Xn().parse(window.navigator.userAgent):void 0,t=e?.platform?.type;return"tablet"===t||"mobile"===t})()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${oi.join(", ")}, got ${t}`)}})());try{t=await n,r=!0,i=!1}finally{n=void 0}return t};return async e=>(r&&!e?.forceRefresh||(t=await o()),t)})())(e),n=()=>t().then(It),r=(e=>({apiVersion:"2023-09-30",base64Decoder:e?.base64Decoder??I,base64Encoder:e?.base64Encoder??T,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ii,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??In,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Tr}],logger:e?.logger??new Lt,serviceId:e?.serviceId??"Bedrock Runtime",urlParser:e?.urlParser??He,utf8Decoder:e?.utf8Decoder??O,utf8Encoder:e?.utf8Encoder??C}))(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Rr,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??er({serviceId:r.serviceId,clientVersion:"3.687.0"}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??kr,maxAttempts:e?.maxAttempts??3,region:e?.region??(()=>Promise.reject("Region is missing")),requestHandler:D.create(e?.requestHandler??n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||Ke),sha256:e?.sha256??Qn,streamCollector:e?.streamCollector??z,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1))}},ai=e=>{let t=async()=>{if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const t=e.region;return"string"==typeof t?t:t()};return{setRegion(e){t=e},region:()=>t}},ci=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}},ui=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});class li extends wt{constructor(...[t]){var n;const r=function(e){const t=R(e.userAgentAppId??void 0);return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent,userAgentAppId:async()=>{const n=await t();if(!function(e){return void 0===e||"string"==typeof e&&e.length<=50}(n)){const t="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger:console;"string"!=typeof n?t?.warn("userAgentAppId must be a string or undefined."):n.length>50&&t?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}}}((n=si(t||{}),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"bedrock"})),i=(e=>{const{retryStrategy:t}=e,n=v(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await v(e.retryMode)()===Ye.ADAPTIVE?new st(n):new ot(n))}})(r),o=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return Ue(t);const e=await t();return Ue(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!Be(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}})(i),s=(e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>Ve(await v(n)()):void 0,i=!!n,o={...e,endpoint:r,tls:t,isCustomEndpoint:i,useDualstackEndpoint:v(e.useDualstackEndpoint??!1),useFipsEndpoint:v(e.useFipsEndpoint??!1)};let s;return o.serviceConfiguredEndpoint=async()=>(e.serviceId&&!s&&(s=qe(e.serviceId)),s),o})(o),a=(c=s,{...c,eventStreamMarshaller:c.eventStreamSerdeProvider(c)});var c;const u=((t,n)=>{const r={...ai(t),...Ut(t),...e(t),...ci(t)};return n.forEach((e=>e.configure(r))),{...t,...(s=r,{region:s.region()}),...(o=r,{...Tt(o),...Bt(o)}),...(i=r,{httpHandler:i.httpHandler()}),...ui(r)};var i,o,s})({...Pn(a)},t?.extensions||[]);var l;super(u),this.config=u,this.middlewareStack.use((l=this.config,{applyToStack:e=>{e.add((e=>(t,n)=>async r=>{const{request:i}=r;if(!f.isInstance(i))return t(r);const{headers:o}=i,s=n?.userAgent?.map(Oe)||[],a=(await e.defaultUserAgentProvider()).map(Oe);await async function(e,t,n){const r=n.request;if("rpc-v2-cbor"===r?.headers?.["smithy-protocol"]&&ke(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof t.retryStrategy){const n=await t.retryStrategy();"function"==typeof n.acquireInitialRetryToken?n.constructor?.name?.includes("Adaptive")?ke(e,"RETRY_MODE_ADAPTIVE","F"):ke(e,"RETRY_MODE_STANDARD","E"):ke(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof t.accountIdEndpointMode){const n=e.endpointV2;switch(String(n?.url?.hostname).match($e)&&ke(e,"ACCOUNT_ID_ENDPOINT","O"),await(t.accountIdEndpointMode?.())){case"disabled":ke(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ke(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ke(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}const i=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){const t=i;t.accountId&&ke(e,"RESOLVED_ACCOUNT_ID","T");for(const[n,r]of Object.entries(t.$source??{}))ke(e,n,r)}}(n,e,r);const c=n;a.push(`m/${function(e){let t="";for(const n in e){const r=e[n];if(!(t.length+r.length+1<=1024))break;t.length?t+=","+r:t+=r}return t}(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);const u=e?.customUserAgent?.map(Oe)||[],l=await e.userAgentAppId();l&&a.push(Oe([`app/${l}`]));const d=[].concat([...a,...s,...u]).join(" "),h=[...a.filter((e=>e.startsWith("aws-sdk-"))),...u].join(" ");return"browser"!==e.runtime?(h&&(o[Pe]=o[Pe]?`${o[Re]} ${h}`:h),o[Re]=d):o[Pe]=d,t({...r,request:i})})(l),Te)}})),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let i=await e.retryStrategy();const o=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(i))return i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,r);{let e=await i.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0;const{request:l}=r,d=f.isInstance(l);for(d&&(l.headers["amz-sdk-invocation-id"]=ft());;)try{d&&(l.headers["amz-sdk-request"]=`attempt=${c+1}; max=${o}`);const{response:n,output:s}=await t(r);return i.recordSuccess(e),s.$metadata.attempts=c+1,s.$metadata.totalRetryDelay=u,{response:n,output:s}}catch(t){const r=Gt(t);if(a=(s=t)instanceof Error?s:s instanceof Object?Object.assign(new Error,s):"string"==typeof s?new Error(s):new Error(`AWS SDK error wrapper for ${s}`),d&&Wt(l))throw(n.logger instanceof Lt?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{e=await i.refreshRetryTokenForRetry(e,r)}catch(e){throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=e.getRetryCount();const o=e.getRetryDelay();u+=o,await new Promise((e=>setTimeout(e,o)))}}var s})(e),Yt)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(f.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(Fe))try{const t=n(e);r.headers={...r.headers,[Fe]:String(t)}}catch(e){}}return e({...t,request:r})}),Ne)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!f.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),p)}}))(this.config)),this.middlewareStack.use((this.config,{applyToStack:e=>{e.add(((e,t)=>async n=>{try{const r=await e(n),{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,l=c??t.inputFilterSensitiveLog,d=u??t.outputFilterSensitiveLog,{$metadata:f,...h}=r.output;return s?.info?.({clientName:i,commandName:o,input:l(n.input),output:d(h),metadata:f}),r}catch(e){const{clientName:r,commandName:i,logger:o,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:a}=s,c=a??t.inputFilterSensitiveLog;throw o?.error?.({clientName:r,commandName:i,input:c(n.input),error:e,metadata:e.$metadata}),e}}),g)}})),this.middlewareStack.use((e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!f.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(y))return t(n);const i=m.env.AWS_LAMBDA_FUNCTION_NAME,o=m.env._X_AMZN_TRACE_ID,s=e=>"string"==typeof e&&e.length>0;return s(i)&&s(o)&&(r.headers[y]=o),t({...n,request:r})})(e),w)}}))(this.config)),this.middlewareStack.use(((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(((e,t)=>(n,r)=>async i=>{const o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,i.input)),s=function(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}(e.httpAuthSchemes),a=b(r),c=[];for(const n of o){const i=s.get(n.schemeId);if(!i){c.push(`HttpAuthScheme \`${n.schemeId}\` was not enabled for this service.`);continue}const o=i.identityProvider(await t.identityProviderConfigProvider(e));if(!o){c.push(`HttpAuthScheme \`${n.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:u={},signingProperties:l={}}=n.propertiesExtractor?.(e,r)||{};n.identityProperties=Object.assign(n.identityProperties||{},u),n.signingProperties=Object.assign(n.signingProperties||{},l),a.selectedHttpAuthScheme={httpAuthOption:n,identity:await o(n.identityProperties),signer:i.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join("\n"));return n(i)})(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),S)}}))(this.config,{httpAuthSchemeParametersProvider:Mn,identityProviderConfigProvider:async e=>new K({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((this.config,{applyToStack:e=>{e.addRelativeTo(((e,t)=>async n=>{if(!f.isInstance(n.request))return e(n);const r=b(t).selectedHttpAuthScheme;if(!r)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:o,signer:s}=r,a=await e({...n,request:await s.sign(n.request,o,i)}).catch((s.errorHandler||x)(i));return(s.successHandler||k)(a.response,i),a}),$)}}))}destroy(){super.destroy()}}class di extends Pt{constructor(e){super(e),Object.setPrototypeOf(this,di.prototype)}}class fi extends di{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,fi.prototype)}}var hi,pi,gi,mi,yi,wi,bi,vi,Si,Ei,_i,Ai,xi,ki,$i,Ri;!function(e){e.visit=(e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1])}(hi||(hi={}));class Pi extends di{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Pi.prototype)}}class Mi extends di{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Mi.prototype)}}class Ii extends di{constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,Ii.prototype)}}class Oi extends di{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,Oi.prototype)}}class Ti extends di{constructor(e){super({name:"ValidationException",$fault:"client",...e}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,Ti.prototype)}}(pi||(pi={})).visit=(e,t)=>void 0!==e.bytes?t.bytes(e.bytes):t._(e.$unknown[0],e.$unknown[1]),function(e){e.visit=(e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1])}(gi||(gi={})),(mi||(mi={})).visit=(e,t)=>void 0!==e.bytes?t.bytes(e.bytes):t._(e.$unknown[0],e.$unknown[1]),(yi||(yi={})).visit=(e,t)=>void 0!==e.json?t.json(e.json):void 0!==e.text?t.text(e.text):void 0!==e.image?t.image(e.image):void 0!==e.document?t.document(e.document):t._(e.$unknown[0],e.$unknown[1]),(wi||(wi={})).visit=(e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.image?t.image(e.image):void 0!==e.document?t.document(e.document):void 0!==e.toolUse?t.toolUse(e.toolUse):void 0!==e.toolResult?t.toolResult(e.toolResult):void 0!==e.guardContent?t.guardContent(e.guardContent):t._(e.$unknown[0],e.$unknown[1]),function(e){e.visit=(e,t)=>void 0!==e.text?t.text(e.text):t._(e.$unknown[0],e.$unknown[1])}(bi||(bi={})),function(e){e.visit=(e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.guardContent?t.guardContent(e.guardContent):t._(e.$unknown[0],e.$unknown[1])}(vi||(vi={})),function(e){e.visit=(e,t)=>void 0!==e.auto?t.auto(e.auto):void 0!==e.any?t.any(e.any):void 0!==e.tool?t.tool(e.tool):t._(e.$unknown[0],e.$unknown[1])}(Si||(Si={})),(Ei||(Ei={})).visit=(e,t)=>void 0!==e.json?t.json(e.json):t._(e.$unknown[0],e.$unknown[1]),(_i||(_i={})).visit=(e,t)=>void 0!==e.toolSpec?t.toolSpec(e.toolSpec):t._(e.$unknown[0],e.$unknown[1]),function(e){e.visit=(e,t)=>void 0!==e.message?t.message(e.message):t._(e.$unknown[0],e.$unknown[1])}(Ai||(Ai={}));class Ci extends di{constructor(e){super({name:"ModelErrorException",$fault:"client",...e}),this.name="ModelErrorException",this.$fault="client",Object.setPrototypeOf(this,Ci.prototype),this.originalStatusCode=e.originalStatusCode,this.resourceName=e.resourceName}}class Bi extends di{constructor(e){super({name:"ModelNotReadyException",$fault:"client",...e}),this.name="ModelNotReadyException",this.$fault="client",this.$retryable={},Object.setPrototypeOf(this,Bi.prototype)}}class Ui extends di{constructor(e){super({name:"ModelTimeoutException",$fault:"client",...e}),this.name="ModelTimeoutException",this.$fault="client",Object.setPrototypeOf(this,Ui.prototype)}}class Fi extends di{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,Fi.prototype)}}!function(e){e.visit=(e,t)=>void 0!==e.text?t.text(e.text):void 0!==e.toolUse?t.toolUse(e.toolUse):t._(e.$unknown[0],e.$unknown[1])}(xi||(xi={})),function(e){e.visit=(e,t)=>void 0!==e.toolUse?t.toolUse(e.toolUse):t._(e.$unknown[0],e.$unknown[1])}(ki||(ki={}));class Ni extends di{constructor(e){super({name:"ModelStreamErrorException",$fault:"client",...e}),this.name="ModelStreamErrorException",this.$fault="client",Object.setPrototypeOf(this,Ni.prototype),this.originalStatusCode=e.originalStatusCode,this.originalMessage=e.originalMessage}}!function(e){e.visit=(e,t)=>void 0!==e.messageStart?t.messageStart(e.messageStart):void 0!==e.contentBlockStart?t.contentBlockStart(e.contentBlockStart):void 0!==e.contentBlockDelta?t.contentBlockDelta(e.contentBlockDelta):void 0!==e.contentBlockStop?t.contentBlockStop(e.contentBlockStop):void 0!==e.messageStop?t.messageStop(e.messageStop):void 0!==e.metadata?t.metadata(e.metadata):void 0!==e.internalServerException?t.internalServerException(e.internalServerException):void 0!==e.modelStreamErrorException?t.modelStreamErrorException(e.modelStreamErrorException):void 0!==e.validationException?t.validationException(e.validationException):void 0!==e.throttlingException?t.throttlingException(e.throttlingException):void 0!==e.serviceUnavailableException?t.serviceUnavailableException(e.serviceUnavailableException):t._(e.$unknown[0],e.$unknown[1])}($i||($i={})),function(e){e.visit=(e,t)=>void 0!==e.chunk?t.chunk(e.chunk):void 0!==e.internalServerException?t.internalServerException(e.internalServerException):void 0!==e.modelStreamErrorException?t.modelStreamErrorException(e.modelStreamErrorException):void 0!==e.validationException?t.validationException(e.validationException):void 0!==e.throttlingException?t.throttlingException(e.throttlingException):void 0!==e.modelTimeoutException?t.modelTimeoutException(e.modelTimeoutException):void 0!==e.serviceUnavailableException?t.serviceUnavailableException(e.serviceUnavailableException):t._(e.$unknown[0],e.$unknown[1])}(Ri||(Ri={}));const Li=e=>({...e,...e.body&&{body:St}}),Di=e=>({...e,...e.body&&{body:St}}),zi=async(e,t)=>{const n=await((e,t)=>((e,t)=>W(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}})))(e,t);return n.message=n.message??n.Message,n},ji=async(e,t)=>{const n=function(e,t){return new G(e,t)}(e,t),r=Dt({},Ft,{[ao]:e[so]||"application/octet-stream",[oo]:e[oo],[po]:e[lo],[fo]:e[co],[ho]:e[uo]});let i;return n.bp("/model/{modelId}/invoke"),n.p("modelId",(()=>e.modelId),"{modelId}",!1),void 0!==e.body&&(i=e.body),n.m("POST").h(r).b(i),n.build()},qi=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Hi(e,t);const n=Dt({$metadata:io(e),[so]:[,e.headers[ao]]}),r=await W(e.body,t);return n.body=r,n},Hi=async(e,t)=>{const n={...e,body:await zi(e.body,t)},r=((e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(i=e.headers,Object.keys(i).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var i;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0})(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.bedrockruntime#AccessDeniedException":throw await Gi(n,t);case"InternalServerException":case"com.amazonaws.bedrockruntime#InternalServerException":throw await Ji(n,t);case"ResourceNotFoundException":case"com.amazonaws.bedrockruntime#ResourceNotFoundException":throw await Xi(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.bedrockruntime#ServiceQuotaExceededException":throw await eo(n,t);case"ThrottlingException":case"com.amazonaws.bedrockruntime#ThrottlingException":throw await no(n,t);case"ValidationException":case"com.amazonaws.bedrockruntime#ValidationException":throw await ro(n,t);case"ModelErrorException":case"com.amazonaws.bedrockruntime#ModelErrorException":throw await Yi(n,t);case"ModelNotReadyException":case"com.amazonaws.bedrockruntime#ModelNotReadyException":throw await Ki(n,t);case"ModelTimeoutException":case"com.amazonaws.bedrockruntime#ModelTimeoutException":throw await Zi(n,t);case"ServiceUnavailableException":case"com.amazonaws.bedrockruntime#ServiceUnavailableException":throw await to(n,t);case"ModelStreamErrorException":case"com.amazonaws.bedrockruntime#ModelStreamErrorException":throw await Qi(n,t);default:const i=n.body;return Vi({output:e,parsedBody:i,errorCode:r})}},Vi=(Wi=di,({output:e,parsedBody:t,errorCode:n})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const i=(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}))(e),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new n({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:i});throw Mt(s,t)})({output:e,parsedBody:t,exceptionCtor:Wi,errorCode:n})});var Wi;const Gi=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new fi({$metadata:io(e),...n});return Mt(o,e.body)},Ji=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Pi({$metadata:io(e),...n});return Mt(o,e.body)},Yi=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt,originalStatusCode:_t,resourceName:kt});Object.assign(n,i);const o=new Ci({$metadata:io(e),...n});return Mt(o,e.body)},Ki=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Bi({$metadata:io(e),...n});return Mt(o,e.body)},Qi=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt,originalMessage:kt,originalStatusCode:_t});Object.assign(n,i);const o=new Ni({$metadata:io(e),...n});return Mt(o,e.body)},Zi=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Ui({$metadata:io(e),...n});return Mt(o,e.body)},Xi=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Mi({$metadata:io(e),...n});return Mt(o,e.body)},eo=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Ii({$metadata:io(e),...n});return Mt(o,e.body)},to=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Fi({$metadata:io(e),...n});return Mt(o,e.body)},no=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Oi({$metadata:io(e),...n});return Mt(o,e.body)},ro=async(e,t)=>{const n=Dt({}),r=e.body,i=zt(r,{message:kt});Object.assign(n,i);const o=new Ti({$metadata:io(e),...n});return Mt(o,e.body)},io=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),oo="accept",so="contentType",ao="content-type",co="guardrailIdentifier",uo="guardrailVersion",lo="trace",fo="x-amzn-bedrock-guardrailidentifier",ho="x-amzn-bedrock-guardrailversion",po="x-amzn-bedrock-trace";class go extends(bt.classBuilder().ep(On).m((function(e,t,n,r){return[A(n,this.serialize,this.deserialize),Je(n,e.getEndpointParameterInstructions())]})).s("AmazonBedrockFrontendService","InvokeModel",{}).n("BedrockRuntimeClient","InvokeModelCommand").f(Li,Di).ser(ji).de(qi).build()){}var mo=n(287);window.Buffer=mo.hp;const yo="&#9658",wo="&#9660",bo="&#9889;",vo="&#128165;",So=`<span style="opacity:0">${bo}</span>`,Eo=`<span style="opacity:0">${vo}</span>`;let _o={};async function Ao(e){const t=await async function(e){return await fetch("https://api.openai.com/v1/completions",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}(e),n=await t.json();return!n.error||!(n.error.code in{invalid_api_key:!0,invalid_request_error:!0,model_not_found:!0,insufficient_quota:!0})}function xo(e){if(!e)return e;const t=e.split("\n");let n=0;for(;n<t.length&&""===t[n].trim();)n++;const r=t[n].trim();let i;if("```"===r)i=e.slice(3);else if(r.startsWith("```")){const t=r.slice(3).trim();i=t.length>0&&!t.includes(" ")?e.slice(r.length):e}else i=e;const o=i.indexOf("```");return-1!==o&&(i=i.slice(0,o)),i}function ko(e,t,n,r){e=unescape(e);const i=r.regions,o=globalThis.profile,s=o.files[e].lines,a=o.files[e].imports.join("\n"),c=s[n.lineno-1].start_region_line,u=s[n.lineno-1].end_region_line;let l;const d=s[n.lineno-1].line;let f;i?(f=s.slice(c-1,u).map((e=>e.line)).join(""),l=s.slice(Math.max(0,c-10),Math.min(c-1,s.length)).map((e=>e.line)).join("")):(f=d,l=s.slice(Math.max(0,n.lineno-10),Math.min(n.lineno-1,s.length)).map((e=>e.line)).join(""));let h=function(e){const t=e.match(/^\s+/);return t?t[0].length:0}(d)+3,p=So+Eo+"&nbsp;".repeat(h-1);const g=document.getElementById(`code-${t}-${n.lineno}`);(async()=>{const e=document.getElementById("service-select").value;if("openai"===e&&!await Ao(document.getElementById("api-key").value))return alert("You must enter a valid OpenAI API key to activate proposed optimizations."),void(document.getElementById("ai-optimization-options").open=!0);if("local"==e&&"none"===document.getElementById("local-models-list").style.display)return alert("You must be connected to a running Ollama server to activate proposed optimizations."),void(document.getElementById("ai-optimization-options").open=!0);g.innerHTML=`<em>${p}working...</em>`;let r=await async function(e,t,n,r){const i=document.getElementById("use-gpu-checkbox").checked;let o=["sklearn"];i?o.push("cupy"):o.push("numpy");const s=function(e,t,n,r=[],i=!1){const o=[...new Set(["NumPy","Scikit-learn","Pandas","TensorFlow","PyTorch",...r])];let s=["Optimize the following Python code to make it more efficient WITHOUT CHANGING ITS RESULTS.\n\n",e.trim(),"\n# Start of code\n",t.trim(),"\n# End of code\n\n","Rewrite the above Python code from 'Start of code' to 'End of code', aiming for clear and simple optimizations. ","Your output should consist only of valid Python code, with brief explanatory comments prefaced with #. ","Include a detailed explanatory comment before the code, starting with '# Proposed optimization:'. ","Leverage high-performance native libraries, especially those utilizing GPU, for significant performance improvements. ","Consider using the following other libraries, if appropriate:\n",o.map((e=>"  import "+e)).join("\n")+"\n","Eliminate as many for loops, while loops, and list or dict comprehensions as possible, replacing them with vectorized equivalents. ","Quantify the expected speedup in terms of orders of magnitude if possible. ","Fix any errors in the optimized code. "];i&&s.push("Use GPU-accelerated libraries whenever it would substantially increase performance. "),s.push("Consider the following insights gathered from the Scalene profiler for optimization:\n");const a=n.n_cpu_percent_python+n.n_cpu_percent_c+n.n_sys_percent;return s.push(`- CPU time: percent spent in the Python interpreter: ${(100*n.n_cpu_percent_python/a).toFixed(2)}%\n`),s.push(`- CPU time: percent spent executing native code: ${(100*n.n_cpu_percent_c/a).toFixed(2)}%\n`),s.push(`- CPU time: percent of system time: ${(100*n.n_sys_percent/a).toFixed(2)}%\n`),s.push(`- Core utilization: ${(100*n.n_core_utilization/a).toFixed(2)}%\n`),s.push(`- Peak memory usage: ${n.n_peak_mb.toFixed(0)}MB (${(100*n.n_python_fraction).toFixed(2)}% Python memory)\n`),n.n_copy_mb_s>1&&s.push(`- Megabytes copied per second by memcpy/strcpy: ${n.n_copy_mb_s.toFixed(2)}\n`),i&&s.push(`- GPU percent utilization: ${(100*n.n_gpu_percent).toFixed(2)}%\n`),s.push("Optimized code:"),s.join("")}(r,t,n,o,i),a=i?" or the GPU ":" ";let c="",u=document.getElementById("service-select").value;if("openai"===u?c=document.getElementById("api-key").value:"azure-openai"===u&&(c=document.getElementById("azure-api-key").value),("openai"===u||"azure-openai"===u)&&!c)return alert("To activate proposed optimizations, enter an OpenAI API key in AI optimization options."),document.getElementById("ai-optimization-options").open=!0,"";let l=" ";t.split("\n").length<=2&&(l=" line of ");let d="import sklearn";d+=i?"\nimport cupy":"\nimport numpy as np";const f=`Optimize the following${l}Python code:\n\n${r}\n\n# Start of code\n\n${t}\n\n# End of code\n\nRewrite the above Python code only from "Start of code" to "End of code", to make it more efficient WITHOUT CHANGING ITS RESULTS. Assume the code has already executed all these imports; do NOT include them in the optimized code:\n\n${e}\n\nUse native libraries if that would make it faster than pure Python. Consider using the following other libraries, if appropriate:\n\n${d}\n\nYour output should only consist of valid Python code. Output the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. Use vectorized operations${a}whenever it would substantially increase performance, and quantify the speedup in terms of orders of magnitude. Eliminate as many for loops, while loops, and list or dict comprehensions as possible, replacing them with vectorized equivalents. If the performance is not likely to increase, leave the code unchanged. Fix any errors in the optimized code. Optimized${l}code:`,h=`Optimize the following${l} Python code:\n\n${r}\n\n# Start of code\n\n${t}\n\n\n# End of code\n\nRewrite the above Python code only from "Start of code" to "End of code", to make it more memory-efficient WITHOUT CHANGING ITS RESULTS. Assume the code has already executed all these imports; do NOT include them in the optimized code:\n\n${e}\n\nUse native libraries if that would make it more space efficient than pure Python. Consider using the following other libraries, if appropriate:\n\n${d}\n\nYour output should only consist of valid Python code. Output the resulting Python with brief explanations only included as comments prefaced with #. Include a detailed explanatory comment before the code, starting with the text "# Proposed optimization:". Make the code as clear and simple as possible, while also making it as fast and memory-efficient as possible. Use native libraries whenever possible to reduce memory consumption; invoke del on variables and array elements as soon as it is safe to do so. If the memory consumption is not likely to be reduced, leave the code unchanged. Fix any errors in the optimized code. Optimized${l}code:`;let p;p=document.getElementById("optimize-performance").checked?f:h,p=s;const g=t.match(/\b\w+\b/g).length;switch(document.getElementById("service-select").value){case"openai":{console.log(p);const e=await async function(e,t,n){const r=document.getElementById("language-model-openai").value,i=JSON.stringify({model:r,messages:[{role:"system",content:"You are a Python programming assistant who ONLY responds with blocks of commented, optimized code. You never respond with text. Just code, starting with ``` and ending with ```."},{role:"user",content:e}],user:"scalene-user"});console.log(i);const o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:i}),s=await o.json();if(s.error&&s.error.code in{invalid_request_error:!0,model_not_found:!0,insufficient_quota:!0})return"model_not_found"===s.error.code&&"gpt-4"===r?alert("You either need to add funds to your OpenAI account to use this feature, or you need to switch to GPT-3.5 if you are using free credits."):alert("You need to add funds to your OpenAI account to use this feature."),"";try{console.log(`Debugging info: Retrieved ${JSON.stringify(s.choices[0],null,4)}`)}catch{console.log(`Debugging info: Failed to retrieve data.choices from the server. data = ${JSON.stringify(s)}`)}try{return s.choices[0].message.content.replace(/^\s*[\r\n]/gm,"")}catch{return"# Query failed. See JavaScript console (in Chrome: View > Developer > JavaScript Console) for more info.\n"}}(p,Math.max(4*g,500),c);return xo(e)}case"local":{console.log("Running "+document.getElementById("service-select").value),console.log(p);const e=await async function(e,t,n){const r=`http://${document.getElementById("local-ip").value}:${document.getElementById("local-port").value}/api/chat`,i={"Content-Type":"application/json"},o=JSON.stringify({model:n,messages:[{role:"system",content:"You are an expert code assistant who only responds in Python code."},{role:"user",content:e}],stream:!1,temperature:.3,frequency_penalty:0,presence_penalty:0,user:"scalene-user"});console.log(o);let s=!1,a="",c=0;for(;!s;){if(c>=3)return{};try{const e=await fetch(r,{method:"POST",headers:i,body:o});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=(await e.text()).split("\n");for(const e of t){const t=JSON.parse(e);if(t.message&&t.message.content&&(a+=t.message.content),t.done){s=!0;break}}}catch(e){console.log(`Error: ${e}`),c++}}console.log(a);try{return a}catch{return"# Query failed. See JavaScript console (in Chrome: View > Developer > JavaScript Console) for more info.\n"}}(p,Math.max(4*g,500),document.getElementById("language-model-local").value);return e.includes("```")?function(e){const t=/```python\s*([\s\S]*?)```|```([\s\S]*?)```/g;let n,r="";for(;null!==(n=t.exec(e));){const e=n[1]?n[1]:n[2];r&&e&&(r+="\n\n"),r+=e}return r}(e):e}case"amazon":{console.log("Running "+document.getElementById("service-select").value),console.log(p);const e=await async function(e){const t=document.getElementById("aws-access-key").value||localStorage.getItem("aws-access-key"),n=document.getElementById("aws-secret-key").value||localStorage.getItem("aws-secret-key"),r=document.getElementById("aws-region").value||localStorage.getItem("aws-region")||"us-east-1",i=`Human: ${e}\nAssistant:`,o=new li({region:r,credentials:{accessKeyId:t,secretAccessKey:n}}),s={modelId:"anthropic.claude-v2",accept:"application/json",contentType:"application/json",body:JSON.stringify({prompt:i,max_tokens_to_sample:300})};try{const e=new go(s),t=await o.send(e),n=new Blob([t.body]),r=await n.text();return JSON.parse(r).completion.trim()}catch(e){return console.error(e),`# Error: ${e.message}`}}(p,Math.max(4*g,500));return xo(e)}case"azure-openai":{console.log("Running "+document.getElementById("service-select").value),console.log(p);let e=document.getElementById("azure-api-url").value,t=document.getElementById("azure-api-model").value;const n=await async function(e,t,n,r,i){const o=`${r}/openai/deployments/${i}/chat/completions?api-version=${document.getElementById("azure-api-model-version").value}`,s=JSON.stringify({messages:[{role:"system",content:"You are a Python programming assistant who ONLY responds with blocks of commented, optimized code. You never respond with text. Just code, starting with ``` and ending with ```."},{role:"user",content:e}],user:"scalene-user"});console.log(s);const a=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json","api-key":n},body:s}),c=await a.json();if(c.error&&c.error.code in{invalid_request_error:!0,model_not_found:!0,insufficient_quota:!0})return"";try{console.log(`Debugging info: Retrieved ${JSON.stringify(c.choices[0],null,4)}`)}catch{console.log(`Debugging info: Failed to retrieve data.choices from the server. data = ${JSON.stringify(c)}`)}try{return c.choices[0].message.content.replace(/^\s*[\r\n]/gm,"")}catch{return"# Query failed. See JavaScript console (in Chrome: View > Developer > JavaScript Console) for more info.\n"}}(p,Math.max(4*g,500),c,e,t);return xo(n)}}}(a,f,n,l);if(!r)return void(g.innerHTML="");r=r.replace(new RegExp("\r?\n","g"),"\n");const i=r.split("\n").map((e=>p+Prism.highlight(e,Prism.languages.python,"python"))).join("<br />");g.innerHTML=`<hr><span title="click to copy" style="cursor: copy" id="opt-${t}-${n.lineno}">${i}</span>`;const o=document.getElementById(`opt-${t}-${n.lineno}`);o.addEventListener("click",(async e=>{await async function(e,t){e.preventDefault(),e.stopPropagation(),await navigator.clipboard.writeText(t)}(e,r),o.style="cursor: auto",await new Promise((e=>setTimeout(e,125))),o.style="cursor: copy"}))})()}function $o(e){let t=Math.floor(e/1024);return Math.floor(t/1024)>0?`${(e/1048576).toFixed(0)}T`:t>0?`${(e/1024).toFixed(0)}G`:`${e.toFixed(0)}M`}function Ro(e){let t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4),r=Math.floor(e%6e4/1e3),i=e%36e5/6e4,o=e%6e4/1e3;return t>0?`${t.toFixed(0)}h:${i.toFixed(0)}m:${o.toFixed(3)}s`:n>=1?`${n.toFixed(0)}m:${o.toFixed(3)}s`:r>=1?`${o.toFixed(3)}s`:`${e.toFixed(0)}ms`}function Po(e,t){let n=t/100*globalThis.profile.elapsed_time_sec;return`(${e}) `+t.toFixed(1)+"% ["+Ro(1e3*n)+"]"}function Mo(e,t,n,r){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{view:{stroke:"transparent"}},autosize:{contains:"padding"},width:r.width,height:r.height,padding:0,data:{values:[{x:0,y:e.toFixed(1),c:Po("Python",e),d:e>=20?e.toFixed(0)+"%":e>=10?e.toFixed(0):"",q:e/2},{x:0,y:t.toFixed(1),c:Po("native",t),d:t>=20?t.toFixed(0)+"%":t>=10?t.toFixed(0):"",q:e+t/2},{x:0,y:n.toFixed(1),c:Po("system",n),d:n>=20?n.toFixed(0)+"%":n>=10?n.toFixed(0):"",q:e+t+n/2}]},layer:[{mark:{type:"bar"},encoding:{x:{aggregate:"sum",field:"y",axis:!1,stack:"zero",scale:{domain:[0,100]}},color:{field:"c",type:"nominal",legend:!1,scale:{range:["darkblue","#6495ED","blue"]}},tooltip:[{field:"c",type:"nominal",title:"time"}]}},{mark:{type:"text",align:"center",baseline:"middle",dx:0},encoding:{x:{aggregate:"sum",field:"q",axis:!1},text:{field:"d"},color:{value:"white"},tooltip:[{field:"c",type:"nominal",title:"time"}]}}]}}function Io(e,t,n,r,i,o){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{view:{stroke:"transparent"}},autosize:{contains:"padding"},width:o.width,height:o.height,padding:0,data:{values:[{x:0,y:n*e,c:"(Python) "+$o(n*e),d:n*e>.2*r?$o(n*e):"",q:n*e/2},{x:0,y:(1-n)*e,c:"(native) "+$o((1-n)*e),d:(1-n)*e>.2*r?$o((1-n)*e):"",q:n*e+(1-n)*e/2}]},layer:[{mark:{type:"bar"},encoding:{x:{aggregate:"sum",field:"y",axis:!1,scale:{domain:[0,r]}},color:{field:"c",type:"nominal",legend:!1,scale:{range:[i,"#50C878","green"]}}}},{mark:{type:"text",align:"center",baseline:"middle",dx:0},encoding:{x:{aggregate:"sum",field:"q",axis:!1},text:{field:"d"},color:{value:"white"}}}]}}function Oo(e,t,n,r=0,i){const o=e.map(((e,t)=>{let n="";return 0!=r&&(n=`; possible leak (${$o(r)}/s)`),{x:e[0],y:e[1],y_text:$o(e[1])+" (@ "+Ro(e[0]/1e6)+")"+n}}));let s="";return 0!=r&&(s="possible leak",i.height-=10),{$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{values:o},width:i.width,height:i.height,padding:0,title:{text:s,baseline:"line-bottom",color:"red",offset:0,lineHeight:10,orient:"bottom",fontStyle:"italic"},encoding:{x:{field:"x",type:"quantitative",title:"",axis:{tickCount:10,tickSize:0,labelExpr:""},scale:{domain:[0,t]}}},layer:[{encoding:{y:{field:"y",type:"quantitative",axis:null,scale:{domain:[0,n]}},color:{field:"c",type:"nominal",legend:null,scale:{range:["darkgreen"]}}},layer:[{mark:"line"},{transform:[{filter:{param:"hover",empty:!1}}],mark:"point"}]},{mark:"rule",encoding:{opacity:{condition:{value:.3,param:"hover",empty:!1},value:0},tooltip:[{field:"y_text",type:"nominal",title:"memory"}]},params:[{name:"hover",select:{type:"point",fields:["y"],nearest:!0,on:"mousemove"}}]}]}}const To="green",Co="goldenrod";let Bo=[];function Uo(e,t,n,r,i){let o;o=i.functions?"function profile":"line profile",Bo=[{title:["time",""],color:"blue",width:0,info:"Execution time (Python + native + system)"}],r&&(Bo=Bo.concat([{title:["memory","peak"],color:To,width:0,info:"Peak amount of memory allocated by line / function"},{title:["memory","average"],color:To,width:0,info:"Average amount of memory allocated by line / function"},{title:["memory","timeline"],color:To,width:0,info:"Memory footprint over time"},{title:["memory","activity"],color:To,width:0,info:"% of bytes allocated by line / function over total bytes allocated in file"},{title:["copy",""],color:Co,width:0,info:"Rate of copying memory"}])),t&&(Bo.push({title:[n,"util."],color:Co,width:0,info:`% utilization of ${n} by line / function (may be inaccurate if ${n} is not dedicated)`}),Bo.push({title:[n,"memory"],color:Co,width:0,info:`Peak ${n} memory allocated by line / function (may be inaccurate if ${n} is not dedicated)`})),Bo.push({title:["",""],color:"black",width:100});let s,a="";a+='<thead class="thead-light">',a+='<tr data-sort-method="thead">';for(const t of Bo)a+=`<th class="F${escape(e)}-nonline"><font style="font-variant: small-caps; text-decoration: underline; width:${t.width}" color=${t.color}>`,t.info?a+=`<a style="cursor:pointer;" title="${t.info}">${t.title[0]}</a>`:a+=`<a style="cursor:pointer;">${t.title[0]}</a>`,a+="</font>&nbsp;&nbsp;</th>";s=i.functions?"functionProfile":"lineProfile",a+=`<th id=${escape(e)+"-"+s} style="width:10000"><font style="font-variant: small-caps; text-decoration: underline">${o}</font><font style="font-size:small; font-style: italic">&nbsp; (click to reset order)</font></th>`,a+="</tr>",a+='<tr data-sort-method="thead">';for(const e of Bo)a+=`<th style="width:${e.width}"><em><font style="font-size: small" color=${e.color}>${e.title[1]}</font></em></th>`;return a+=`<th><code>${e}</code></th></tr>`,a+="</thead>",a}function Fo(e,t,n,r,i,o,s,a,c,u){let l=e.n_cpu_percent_python+e.n_cpu_percent_c+e.n_sys_percent,d=0,f=0,h=0;for(let n=e.start_region_line;n<e.end_region_line;n++){const i=r.files[t].lines[n];d+=i.n_cpu_percent_python+i.n_cpu_percent_c+i.n_sys_percent,f+=i.n_avg_mb+i.n_peak_mb+i.memory_samples.length+(i.n_usage_fraction>=.01),h|=e.n_gpu_percent>=1}u&&(l<1&&e.start_region_line===e.end_region_line&&(u=!1),e.start_region_line!=e.end_region_line&&d<1&&(u=!1));const p=e.n_avg_mb+e.n_peak_mb+e.memory_samples.length+(e.n_usage_fraction>=.01),g=e.n_gpu_percent>=1,m=e.start_region_line,y=e.end_region_line;let w,b;m===y||[[m-1,y]]in _o?(w=Eo,b=!1):(w=vo,m&&y&&(_o[[m-1,y]]=!0,b=!0)),b&=y-m<=50;let v="";if(v+=l>1||p||g||b&&m!=y&&(d>=1||f||h)?"<tr>":"<tr class='empty-profile'>",v+=`<td style="height: 20; width: 100; vertical-align: middle" align="left" data-sort='${String(l.toFixed(1)).padStart(10," ")}'>`,v+=`<span style="height: 20; width: 100; vertical-align: middle" id="cpu_bar${i.length}"></span>`,l?i.push(Mo(e.n_cpu_percent_python,e.n_cpu_percent_c,e.n_sys_percent,{height:20,width:100})):i.push(null),r.memory){if(v+=`<td style="height: 20; width: 100; vertical-align: middle" align="left" data-sort='${String(e.n_peak_mb.toFixed(0)).padStart(10,"0")}'>`,v+=`<span style="height: 20; width: 100; vertical-align: middle" id="memory_bar${o.length}"></span>`,e.n_peak_mb?o.push(Io(e.n_peak_mb.toFixed(0),0,parseFloat(e.n_python_fraction),r.max_footprint_mb.toFixed(2),"darkgreen",{height:20,width:100})):o.push(null),v+=`<td style="height: 20; width: 100; vertical-align: middle" align="left" data-sort='${String(e.n_avg_mb.toFixed(0)).padStart(10,"0")}'>`,v+=`<span style="height: 20; width: 100; vertical-align: middle" id="memory_bar${o.length}"></span>`,v+="</td>",e.n_avg_mb?o.push(Io(e.n_avg_mb.toFixed(0),0,parseFloat(e.n_python_fraction),r.max_footprint_mb.toFixed(2),"darkgreen",{height:20,width:100})):o.push(null),v+="</td>",v+=`<td style='vertical-align: middle; width: 100'><span style="height:20; width: 100; vertical-align: middle" id="memory_sparkline${s.length}"></span>`,v+="</td>",e.memory_samples.length>0){let n=0;"leaks"in r.files[t]&&e.lineno in r.files[t].leaks&&(n=r.files[t].leaks[e.lineno].velocity_mb_s),s.push(Oo(e.memory_samples,1e9*r.elapsed_time_sec,r.max_footprint_mb,n,{height:20,width:75}))}else s.push(null);v+='<td style="width: 100; vertical-align: middle" align="center">',e.n_usage_fraction>=.01?(v+=`<span style="height: 20; width: 30; vertical-align: middle" id="memory_activity${a.length}"></span>`,a.push((S=100*e.n_usage_fraction*(1-parseFloat(e.n_python_fraction)),E=100*e.n_usage_fraction*parseFloat(e.n_python_fraction),{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:30,height:20,padding:0,data:{values:[{category:1,value:S.toFixed(1),c:"native: "+S.toFixed(1)+"%"},{category:2,value:E.toFixed(1),c:"Python: "+E.toFixed(1)+"%"}]},mark:"arc",encoding:{theta:{field:"value",type:"quantitative",scale:{domain:[0,100]}},color:{field:"c",type:"nominal",legend:!1,scale:{range:["darkgreen","#50C878"]}},tooltip:[{field:"c",type:"nominal",title:"memory"}]}}))):a.push(null),v+="</td>",e.n_copy_mb_s<1?v+='<td style="width: 100"></td>':v+=`<td style="width: 100; vertical-align: middle" align="right"><font style="font-size: small" color="${Co}">${e.n_copy_mb_s.toFixed(0)}&nbsp;&nbsp;&nbsp;</font></td>`}var S,E,_,A;if(r.gpu)if(e.n_gpu_percent<1?v+='<td style="width: 100"></td>':(v+=`<td style="width: 50; vertical-align: middle" align="right" data-sort="${e.n_gpu_percent}">`,v+=`<span style="height: 20; width: 30; vertical-align: middle" id="gpu_pie${c.length}"></span>`,v+="</td>",c.push((_=e.n_gpu_percent,A=r.gpu_device,{$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{view:{stroke:"transparent"}},autosize:{contains:"padding"},width:30,height:20,padding:0,data:{values:[{category:1,value:_.toFixed(1),c:"in use: "+_.toFixed(1)+"%"}]},mark:"arc",encoding:{theta:{field:"value",type:"quantitative",scale:{domain:[0,100]}},color:{field:"c",type:"nominal",legend:!1,scale:{range:["goldenrod","#f4e6c2"]}},tooltip:[{field:"c",type:"nominal",title:A}]}}))),e.n_gpu_peak_memory_mb<1||e.n_gpu_percent<1)v+='<td style="width: 100"></td>';else{let t=e.n_gpu_peak_memory_mb,n="MB";t>=1024&&(t/=1024,n="GB"),v+=`<td style="width: 100; vertical-align: middle" align="right"><font style="font-size: small" color="${Co}">${t.toFixed(0)}${n}&nbsp;&nbsp;</font></td>`}const x=l||p||g||y!=m?"":"empty-profile";v+=`<td align="right" class="dummy ${x}" style="vertical-align: middle; width: 50" data-sort="${e.lineno}"><span onclick="vsNavigate('${escape(t)}',${e.lineno})"><font color="gray" style="font-size: 70%; vertical-align: middle" >${e.lineno}&nbsp;</font></span></td>`;const k=u&&b?`${w}&nbsp;`:`${Eo}&nbsp;`;e.line=function(e){return e.replace(/\\u([\dA-F]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))}(e.line);const $=Prism.highlight(e.line,Prism.languages.python,"python");v+=`<td style="height:10" align="left" bgcolor="whitesmoke" style="vertical-align: middle" data-sort="${e.lineno}">`;let R=structuredClone(e);if(u&&b){let e=0;for(let n=m;n<y;n++){const i=r.files[t].lines[n];e+=i.n_copy_mb*r.elapsed_time_sec,R.n_cpu_percent_python+=i.n_cpu_percent_python,R.n_cpu_percent_c+=i.n_cpu_percent_c,R.n_sys_percent+=i.n_sys_percent,R.n_gpu_percent+=i.n_gpu_percent,i.n_peak_mb>R.n_peak_mb&&(R.n_peak_mb=i.n_peak_mb,R.n_python_fraction=i.n_python_fraction),R.n_core_utilization+=(i.n_cpu_percent_python+i.n_cpu_percent_c)*i.n_core_utilization}R.n_copy_mb_s=e/r.elapsed_time_sec,v+=`<span style="vertical-align: middle; cursor: pointer" title="Propose an optimization for the entire region starting here." onclick="proposeOptimizationRegion('${escape(t)}', ${n}, '${encodeURIComponent(JSON.stringify(R))}'); event.preventDefault()">${k}</span>`}else v+=k;const P=u?`${bo}`:`${So}`;return v+=u?`<span style="vertical-align: middle; cursor: pointer" title="Propose an optimization for this line." onclick="proposeOptimizationLine('${escape(t)}', ${n}, '${encodeURIComponent(JSON.stringify(e))}'); event.preventDefault()">${P}</span>`:P,v+=`<pre style="height: 10; display: inline; white-space: pre-wrap; overflow-x: auto; border: 0px; vertical-align: middle"><code class="language-python ${x}">${$}<span id="code-${n}-${e.lineno}" bgcolor="white"></span></code></pre></td>`,v+="</tr>",v}let No=[];function Lo(e){document.getElementById(`profile-${e}`).style.display="none",document.getElementById(`button-${e}`).innerHTML=yo}function Do(e){(async()=>{await async function(e){_o={};let t="";var n;t=window.localStorage.getItem("scalene-api-key"),t&&(document.getElementById("api-key").value=t,n=t,(async()=>{try{window.localStorage.setItem("scalene-api-key",n)}catch{}if(0===n.length)return void(document.getElementById("valid-api-key").innerHTML="");const e=await Ao(n);document.getElementById("valid-api-key").innerHTML=e?"&check;":"&#10005;"})());let r=window.localStorage.getItem("scalene-service-select");r&&(document.getElementById("service-select").value=r,zo());const i=document.getElementById("use-gpu-checkbox")||"",o=window.localStorage.getItem("use-gpu-checkbox")||"";o?i.checked.toString()!=o&&i.click():i.checked!=e.gpu&&i.click(),globalThis.profile=e;let s=[],a=[],c=[],u=[],l=[],d=0,f="";f+='<span class="row justify-content-center">',f+='<span class="col-auto">',f+='<table width="50%" class="table text-center table-condensed">',f+="<tr>",f+='<td><font style="font-size: small"><b>Time:</b> <font color="darkblue">Python</font> | <font color="#6495ED">native</font> | <font color="blue">system</font><br /></font></td>',f+='<td width="10"></td>',e.memory&&(f+='<td><font style="font-size: small"><b>Memory:</b> <font color="darkgreen">Python</font> | <font color="#50C878">native</font><br /></font></td>',f+='<td width="10"></td>',f+='<td valign="middle" style="vertical-align: middle">',f+=`<font style="font-size: small"><b>Memory timeline: </b>(max: ${$o(e.max_footprint_mb)}, growth: ${e.growth_rate.toFixed(1)}%)</font>`,f+="</td>"),f+="</tr>",f+="<tr>",f+='<td height="10"><span style="height: 20; width: 200; vertical-align: middle" id="cpu_bar0"></span></td>',f+="<td></td>",e.memory&&(f+='<td height="20"><span style="height: 20; width: 150; vertical-align: middle" id="memory_bar0"></span></td>',f+="<td></td>",f+='<td align="left"><span style="vertical-align: middle" id="memory_sparkline0"></span></td>',s.push(Oo(e.samples,1e9*e.elapsed_time_sec,e.max_footprint_mb,0,{height:20,width:200}))),f+="</tr>";let h=0,p=0,g=0,m=0,y=0,w={},b={},v={},S={},E={};for(const t in e.files){w[t]=0,b[t]=0,v[t]=0,S[t]=0,E[t]=0;for(const n in e.files[t].lines){const r=e.files[t].lines[n];w[t]+=r.n_cpu_percent_python,b[t]+=r.n_cpu_percent_c,v[t]+=r.n_sys_percent,r.n_peak_mb>E[t]&&(E[t]=r.n_peak_mb,S[t]+=r.n_peak_mb*r.n_python_fraction),y+=r.n_malloc_mb}h+=w[t],p+=b[t],g+=v[t],m+=S[t]}if(c.push(Mo(h,p,g,{height:20,width:200})),e.memory&&l.push(Io(e.max_footprint_mb.toFixed(2),0,m/y,e.max_footprint_mb.toFixed(2),"darkgreen",{height:20,width:150})),f+='<tr><td colspan="10">',f+='<span class="text-center"><font style="font-size: 90%; font-style: italic; font-color: darkgray">hover over bars to see breakdowns; click on <font style="font-variant:small-caps; text-decoration:underline">column headers</font> to sort.</font></span>',f+="</td></tr>",f+="</table>",f+="</span>",f+="</span>","{}"===JSON.stringify(e))return f+='\n    <form id="jsonFile" name="jsonFile" enctype="multipart/form-data" method="post">\n      <div class="form-group">\n\t<div class="d-flex justify-content-center">\n\t  <label for=\'fileinput\' style="padding: 5px 5px; border-radius: 5px; border: 1px ridge black; font-size: 0.8rem; height: auto;">Select a profile (.json)</label>\n\t  <input style="height: 0; width: 10; opacity:0" type=\'file\' id=\'fileinput\' accept=\'.json\' onchange="loadFile();">\n\t</div>\n      </div>\n    </form>\n    </div>',void(document.getElementById("profile").innerHTML=f);f+='<br class="text-left"><span style="font-size: 80%; color: blue; cursor : pointer;" onClick="expandAll()">&nbsp;show all</span> | <span style="font-size: 80%; color: blue; cursor : pointer;" onClick="collapseAll()">hide all</span>',f+=' | <span style="font-size: 80%; color: blue" onClick="document.getElementById(\'reduce-checkbox\').click()">only display profiled lines&nbsp;</span><input type="checkbox" id="reduce-checkbox" checked onClick="toggleReduced()" /></br>',f+='<div class="container-fluid">';let _=Object.entries(e.files);_.sort(((e,t)=>t[1].percent_cpu_time-e[1].percent_cpu_time));let A=0;No=[];let x=new Set;for(const t of _){if(A++,t[1].percent_cpu_time<1&&E[t[0]]<.01*y){x.add(t);continue}const n=`file-${A}`;No.push(n),f+='<p class="text-left sticky-top bg-white bg-opacity-75" style="backdrop-filter: blur(2px)">';let r="display:block;",i=wo;1!==A&&(r="display:none;",i=yo),f+=`<span style="height: 20; width: 100; vertical-align: middle" id="cpu_bar${c.length}"></span>&nbsp;`,c.push(Mo(w[t[0]],b[t[0]],v[t[0]],{height:20,width:100})),e.memory&&(f+=`<span style="height: 20; width: 100; vertical-align: middle" id="memory_bar${l.length}"></span>`,l.push(Io(E[t[0]],0,S[t[0]]/E[t[0]],e.max_footprint_mb.toFixed(2),"darkgreen",{height:20,width:100}))),f+=`<font style="font-size: 90%">% of time = ${t[1].percent_cpu_time.toFixed(1).padWithNonBreakingSpaces(5)}% (${Ro(t[1].percent_cpu_time/100*e.elapsed_time_sec*1e3).padWithNonBreakingSpaces(8)} / ${Ro(1e3*e.elapsed_time_sec).padWithNonBreakingSpaces(8)})<br />`,f+=`<span id="button-${n}" title="Click to show or hide profile." style="cursor: pointer; color: blue;" onClick="toggleDisplay('${n}')">`,f+=`${i}`,f+="</span>",f+=`<code> ${t[0]}</code>`,f+="</font></p>",f+=`<div style="${r}" id="profile-${n}">`,f+=`<table class="profile table table-hover table-condensed" id="table-${d}">`,d++,f+=Uo(t[0],e.gpu,e.gpu_device,e.memory,{functions:!1}),f+="<tbody>";let o=-1;for(const n in t[1].lines){const r=t[1].lines[n];o=r.lineno,f+=Fo(r,t[0],A,e,c,l,s,a,u,!0)}if(f+="</tbody>",f+="</table>",e.files[t[0]].functions.length){f+=`<table class="profile table table-hover table-condensed" id="table-${d}">`,f+=Uo(t[0],e.gpu,e.gpu_device,e.memory,{functions:!0}),f+="<tbody>",d++;for(const n in e.files[t[0]].functions)f+=Fo(e.files[t[0]].functions[n],t[0],A,e,c,l,s,a,u,!1);f+="</table>"}f+="</div>",A<_.length&&(f+="<hr>")}_=_.filter((e=>!x.has(e))),f+="</div>",document.getElementById("profile").innerHTML=f;for(const e of _){const t=document.getElementsByClassName(`F${escape(e[0])}-nonline`);for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=document.getElementsByClassName(`F${escape(e[0])}-blankline`);for(let e=0;e<n.length;e++)n[e].style.display="none"}))}for(const e of _)document.getElementById(`${escape(e[0])}-lineProfile`).addEventListener("click",(t=>{const n=document.getElementsByClassName(`F${escape(e[0])}-blankline`);for(let e=0;e<n.length;e++)"none"===n[e].style.display&&(n[e].style.display="block")}));for(let e=0;e<d;e++)new Tablesort(document.getElementById(`table-${e}`),{ascending:!0});s.forEach(((e,t)=>{e&&(async()=>{await vegaEmbed(`#memory_sparkline${t}`,e,{actions:!1,renderer:"svg"})})()})),c.forEach(((e,t)=>{e&&(async()=>{await vegaEmbed(`#cpu_bar${t}`,e,{actions:!1})})()})),u.forEach(((e,t)=>{e&&(async()=>{await vegaEmbed(`#gpu_pie${t}`,e,{actions:!1})})()})),a.forEach(((e,t)=>{e&&(async()=>{await vegaEmbed(`#memory_activity${t}`,e,{actions:!1})})()})),l.forEach(((e,t)=>{e&&(async()=>{await vegaEmbed(`#memory_bar${t}`,e,{actions:!1})})()})),function(){const e=document.getElementsByClassName("empty-profile");for(const t of e)t.style.display="none"}(),e.program?document.title="Scalene - "+e.program:document.title="Scalene"}(e)})()}function zo(){let e=document.getElementById("service-select").value;window.localStorage.setItem("scalene-service-select",e),document.getElementById("openai-fields").style.display="openai"===e?"block":"none",document.getElementById("amazon-fields").style.display="amazon"===e?"block":"none",document.getElementById("local-fields").style.display="local"===e?"block":"none",document.getElementById("azure-openai-fields").style.display="azure-openai"===e?"block":"none"}function jo(){document.getElementById("install-models-message").style.display="block",document.getElementById("local-models-list").style.display="none"}function qo(e){const t=localStorage.getItem(e.id);if(null!==t)switch(e.type){case"checkbox":case"radio":e.checked="true"===t;break;default:e.value=t}}function Ho(e){e.addEventListener("change",(()=>{switch(e.type){case"checkbox":case"radio":localStorage.setItem(e.id,e.checked);break;default:localStorage.setItem(e.id,e.value)}}))}String.prototype.padWithNonBreakingSpaces=function(e){let t="",n=6*this.length;for(e*=6;n<e;)t+="&nbsp;",n+=6;return t+this},async function(){try{const e=document.getElementById("local-ip").value,t=document.getElementById("local-port").value,n=await fetch(`http://${e}:${t}/api/tags`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=(await n.json()).models.map((e=>e.name));return 0===r.length&&jo(),r}catch(e){return console.error("Error fetching model names:",e),jo(),[]}}().then((e=>{const t=function(e){const t=document.createElement("select");return t.style.fontSize="0.8rem",t.id="language-model-local",t.classList.add("persistent"),t.name="language-model-local-label",e.forEach((e=>{const n=document.createElement("option");n.value=e,n.textContent=e,n.id=e,t.appendChild(n)})),t}(e),n=document.getElementById("language-local-models");n?(n.innerHTML="",n.appendChild(t)):console.error('Div with ID "language-local-models" not found.')})),document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelectorAll(".persistent");e.forEach((e=>{qo(e)})),e.forEach((e=>{Ho(e)}))}()})),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes&&e.addedNodes.forEach((e=>{1===e.nodeType&&e.matches(".persistent")&&(qo(e),e.addEventListener("change",(()=>Ho(e))))}))}))})).observe(document.body,{childList:!0,subtree:!0}),window.collapseAll=function(){for(const e of No)Lo(e)},window.load=Do,window.proposeOptimizationLine=function(e,t,n){ko(e,t,JSON.parse(decodeURIComponent(n)),{regions:!1})},window.proposeOptimizationRegion=function(e,t,n){ko(e,t,JSON.parse(decodeURIComponent(n)),{regions:!0})},window.toggleDisplay=function(e){const t=document.getElementById(`profile-${e}`);"block"==t.style.display?(t.style.display="none",document.getElementById(`button-${e}`).innerHTML=yo):(t.style.display="block",document.getElementById(`button-${e}`).innerHTML=wo)},window.toggleReduced=function(){const e=document.getElementsByClassName("empty-profile");for(const t of e){const e=t.style;""==e.display?e.display="none":e.display=""}},window.toggleServiceFields=zo,window.vsNavigate=function(e,t){try{acquireVsCodeApi().postMessage({command:"jumpToLine",filePath:e,lineNumber:t})}catch{}},window.addEventListener("load",(()=>{Do(profile)})),setInterval((function(){let e=new XMLHttpRequest;e.open("GET","/heartbeat",!0),e.send()}),1e4)})()})();